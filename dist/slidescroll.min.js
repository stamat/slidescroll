/* slideswap v1.0.0 | https://stamat.github.io/slideswap/ | MIT License */
(()=>{function s(t,i){for(const e in i)t[e]=i[e];return t}var o=class{constructor(t,i){this.init(t,i)}init(t,i){if(this.element=t,this.currentIndex=0,this.options={start:0,loop:!0,behavior:"smooth",alignment:"start",activeClass:"slidescroll-current-slide",trackSelector:".slidescroll-track",slideSelector:":scope > *",next:null,prev:null},this.slides=[],this.track=null,typeof t=="string"&&(this.element=document.querySelector(t)),!this.element||!(this.element instanceof HTMLElement))throw new Error("slidescroll: element property not provided, or element not found");if(this.element.getAttribute("data-slidescroll-initialized")==="true")throw new Error("slidescroll: element already initialized");s(this.options,i),this.track=this.element.querySelector(this.options.trackSelector),this.slides=Array.from(this.track.querySelectorAll(this.options.slideSelector)),this.element.setAttribute("data-slidescroll-initialized","true"),this.enumerateSlides(),this.bindControls(),this.setInitialSlide(this.options.start);let e=null;this.element.addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{this.dispatchEvent("scrollstop")},150)}),this.dispatchEvent("init")}setInitialSlide(){const t=this.slides[this.options.start];t&&t.scrollIntoView({behavior:"instant",block:this.options.alignment,inline:this.options.alignment})}bindControls(){!this.options.next&&!this.options.prev||(this.options.next=typeof this.options.next=="string"?document.querySelector(this.options.next):this.options.next,this.options.prev=typeof this.options.prev=="string"?document.querySelector(this.options.prev):this.options.prev,this.options.next&&this.options.next.addEventListener("click",this.next.bind(this)),this.options.prev&&this.options.prev.addEventListener("click",this.prev.bind(this)))}enumerateSlides(t=this.slides){t.forEach((i,e)=>{i.setAttribute("data-slidescroll-index",e)})}isScrollable(){return this.isVertical()||this.isHorizontal()}isVertical(){return this.track.scrollHeight>this.track.clientHeight}isHorizontal(){return this.track.scrollWidth>this.track.clientWidth}goTo(t){this.options.loop&&(t=t<0?this.slides.length-1:t,t=t>=this.slides.length?0:t);const i=this.slides[t];i&&(this.setActiveSlide(t),this.currentIndex=t,i.scrollIntoView({behavior:this.options.behavior,block:this.options.alignment,inline:this.options.alignment}),this.dispatchEvent("change",{index:t}))}next(){const t=this.currentIndex+1;this.goTo(t)}prev(){const t=this.currentIndex-1;this.goTo(t)}setActiveSlide(t){this.slides.forEach((i,e)=>{i.classList.toggle(this.options.activeClass,e===t)})}dispatchEvent(t,i={}){if(!this.slides||!this.slides.length)return;const e=new CustomEvent(`slidescroll:${t}`,{detail:{...i,slidescroll:this}});this.element.dispatchEvent(e),document.dispatchEvent(e)}};window.Slidescroll||(window.Slidescroll=o)})();
